\section{Sedmá přednáška}

\subsection{Matice homomorfismů a přechodů}

\begin{example}[Výpočet matice homomorfismu]
    \label{ex:homo_mat}
    Vyjádřete matici homomorfismu $\varphi$ v bázích $\mathcal{B}$ a $\overline{\mathcal{B}}$, kde:
    \begin{align*}
        \mathcal{V} &= \mathbb{R}^3,\;
        \mathcal{B} = \big (e_1 = (0, 0, 1), e_2 = (0, 1, 2), e_3 = (1, 2, 3)\big)\\
        \mathcal{W} &= \mathbb{R}^4,\;
        \overline{\mathcal{B}} = \big (f_1 = (0, 0, 0, 1), f_2 = (0, 0, -1, 0), f_3 = (0, 1, 0, 0), f_4 = (-1, 0, 0, 0)\big)\\
        \varphi &: \mathcal{V} \rightarrow \mathcal{W}, \;
        \varphi\big( (v_1, v_2, v_3) \big) = (v_1 + v_2, v_2 + v_3, v_1, v_2)
    \end{align*}

    Měli bychom nejprve ověřit, že $\mathcal{B}$ a $\overline{\mathcal{B}}$ jsou opravdu
    báze vektorových prostorů $\mathcal{V}$ a $\mathcal{W}$. A to tak, že přepsáním báze do
    matice dostaneme matici se správnou hodností (v tomto případě 3 a 4). Což zde zjevně platí.
    \begin{align*}
        h \begin{pmatrix}
            0 & 0 & 1\\
            0 & 1 & 2\\
            1 & 2 & 3
        \end{pmatrix} &= 3\\
        h \begin{pmatrix}
            0 & 0 & 0 & 1\\
            0 & 0 & -1 & 0\\
            0 & 1 & 0 & 0\\
            -1 & 0 & 0 & 0
        \end{pmatrix} &= 4
    \end{align*}

    Dále je třeba ověřit, zda $\varphi$ je skutečně homomorfismus. Musíme zkontrolovat platnost
    vlastností z definice homomorfismu \ref{def:homo}:
    Platnost první vlastnosti $\varphi(\vec{u} + \vec{v}) = \varphi(\vec{u}) + \varphi(\vec{v})$
    můžeme ověřit takto:
    \begin{align*}
        \varphi(\vec{u} + \vec{v}) &= \varphi\big ( (u_1 + v_1, u_2 + v_2, u_3 + v_3) \big) =
            (u_1 + v_1 + u_2 + v_2, u_2 + v_2 + u_3 + v_3, u_1 + v_1, u_2 + v_2)\\
        \varphi(\vec{u}) + \varphi(\vec{v}) &= (u_1 + u_2, u_2 + u_3, u_1, u_2) +
            (v_1 + v_2, v_2 + v_3, v_1, v_2) \\
            L &= P
    \end{align*}
    Platnost druhé vlastnosti bychom ověřili podobným způsobem.

    Nyní přes $\varphi$ zobrazíme vektory báze prostoru $\mathcal{V}$ a vyjádříme tento
    obraz jako lineární kombinaci vektorů báze prostoru $\mathcal{W}$:
    \begin{align*}
        \vec{w_1} & = \varphi(e_1) = (0, 1, 0, 0) =
            a_{11} \cdot (0, 0, 0, 1) + a_{12} \cdot (0, 0, -1, 0) + a_{13} \cdot (0, 1, 0, 0) + a_{14} \cdot (-1, 0, 0, 0)\\
        \vec{w_2} & = \varphi(e_2) = (1, 3, 0, 1) =
            a_{21} \cdot (0, 0, 0, 1) + a_{22} \cdot (0, 0, -1, 0) + a_{23} \cdot (0, 1, 0, 0) + a_{24} \cdot (-1, 0, 0, 0)\\
        \vec{w_3} & = \varphi(e_3) = (3, 5, 1, 2) =
            a_{31} \cdot (0, 0, 0, 1) + a_{32} \cdot (0, 0, -1, 0) + a_{33} \cdot (0, 1, 0, 0) + a_{34} \cdot (-1, 0, 0, 0)\\
    \end{align*}
    Vyřešením těchto 3 soustav 4 lineárních rovnic dostaneme hodnoty koeficientů $a$, které tvoří
    matici homomorfismu:
    První řádek jde na první pohled vyřešit snadno jako:
    \begin{align*}
        a_{11} &= a_{12} = a_{14} = 0\\
        a_{13} &= 1
    \end{align*}
    Řádky 2 a 3 už nejsou tak zřejmé. Rozepíšeme tedy soustavu rovnic pro druhý řádek:
    \begin{align*}
        0\cdot a_{21} + 0\cdot a_{22} + 0\cdot a_{23} -1 \cdot a_{24} &= 1\; \Rightarrow a_{24} = -1\\
        0\cdot a_{21} + 0\cdot a_{22} + 1\cdot a_{23} +0 \cdot a_{24} &= 3\; \Rightarrow a_{23} = 3\\
        0\cdot a_{21} - 1 \cdot a_{22} + 0\cdot a_{23} +0 \cdot a_{24} &= 0 \; \Rightarrow a_{22} = 0\\
        1\cdot a_{21} + 0 \cdot a_{22} + 0\cdot a_{23} +0 \cdot a_{24} &= 1 \; \Rightarrow a_{21} = 1\\
    \end{align*}
    Díky jednoduchému zadání báze $\overline{\mathcal{B}}$ jsme byli schopni rovnou odvodit
    řešení této soustavy.

    Nyní rozepíšeme a vyřešíme soustavu pro 3 řádek:
    \begin{align*}
        0\cdot a_{31} + 0\cdot a_{32} + 0\cdot a_{33} -1 \cdot a_{34} &= 3\; \Rightarrow a_{34} = -3\\
        0\cdot a_{31} + 0\cdot a_{32} + 1\cdot a_{33} +0 \cdot a_{34} &= 5\; \Rightarrow a_{33} = 5\\
        0\cdot a_{31} - 1 \cdot a_{32} + 0\cdot a_{33} +0 \cdot a_{34} &= 1 \; \Rightarrow a_{32} = -1\\
        1\cdot a_{31} + 0 \cdot a_{32} + 0\cdot a_{33} +0 \cdot a_{34} &= 2 \; \Rightarrow a_{31} = 2\\
    \end{align*}

    Ze zjištěných koeficientů nyní můžeme vyjádřit požadovanou matici homomorfismu $\varphi$ v
    bázích $\mathcal{B}$ a $\overline{\mathcal{B}}$:
    \[
        \begin{pmatrix}
            a_{11} & a_{12} & a_{13} & a_{14} \\
            a_{21} & a_{22} & a_{23} & a_{24} \\
            a_{31} & a_{32} & a_{33} & a_{34} \\
        \end{pmatrix} =
        \begin{pmatrix}
            0 & 0 & 1 & 0\\
            1 & 0 & 3 & -1\\
            2 & -1 & 5 & -3\\
        \end{pmatrix}
    \]
\end{example}

Matici homomorfismu můžeme použít k rychlému převádění vektorů mezi bázemi.
\begin{example}[Převod vektorů mezi bázemi]
    Mějme vektorové prostory, báze, $\varphi$ a matici homomorfismu
    z příkladu \ref{ex:homo_mat}.

    A mějme vektor $\vec{w_{\mathcal{B}}}$ vyjádřený v bázi $\mathcal{B}$:
    $$\vec{w_{\mathcal{B}}} = (2, 4, 3)$$
    Vyjádřete tento vektor v bázi $\overline{\mathcal{B}}$ jako
    $\vec{w_{\overline{\mathcal{B}}}}$.

    To, že je vektor $\vec{w_{\mathcal{B}}}$ vyjádřený v bázi $\mathcal{B}$ znamená,
    že se jedná o lineární kombinaci vektorů $\vec{e_1}, \vec{e_2}, \vec{e_3}$ s koeficienty
    $2, 4, 3$.
    Tento vektor můžeme převést do implicitní báze\footnote{Implicitní báze je obvyklá báze, ve
    které, i když třeba nechceme, musíme implicitně pracovat, abychom se mohli
    numericky vyjadřovat. Implicitní báze je obvykle
    $\big((1, 0, 0), (0, 1, 0), (0, 0, 1) \big)$, takové bázi říkáme kanonická a může být
    podobně vyjádřena i pro jiné dimenze, než právě 3.} následovně:
    $$\vec{u} = (2\cdot 0 + 4\cdot 0 + 3\cdot 1,\; 2\cdot 0 + 4\cdot 1 + 3\cdot 2,\;
    2\cdot 1 + 4\cdot 2 + 3\cdot 3) = (3, 10, 19)$$
    Nyní tento vektor $\vec{u}$ vyjádřený v kanonické bázi zobrazíme pomocí $\varphi$:
    $$\vec{w} = \varphi(\vec{u}) = \varphi\big( (3, 10, 19) \big) = (13, 29, 3, 10)$$
    A nyní $\vec{w}$ vyjádříme v bázi $\overline{\mathcal{B}}$:
    $$\vec{w_{\overline{\mathcal{B}}}} = (10, -3, 29, -13)$$
    V tomto případě jsme převod provedli bez využití matice homomorfismu. Provedli jsme převod
    na kanonickou bázi, zobrazení a nakonec převod do cílové báze.

    Stejný výsledek ovšem můžeme dostat pomocí matice homomorfismu, který v sobě má tohle
    všechno v podstatě zahrnuto, stačí vektor $\vec{w_{\mathcal{B}}}$ vynásobit maticí homomorfismu:
    \[
        \vec{v_{\overline{\mathcal{B}}}} =
        \begin{pmatrix}
            2 & 4 & 3
        \end{pmatrix} \cdot
        \begin{pmatrix}
            0 & 0 & 1 & 0\\
            1 & 0 & 3 & -1\\
            2 & -1 & 5 & -3\\
        \end{pmatrix} =
        \begin{pmatrix}
            10 & -3 & 29 & -13
        \end{pmatrix}
    \]
\end{example}

\begin{definition}[Matice přechodu]
    Mějme speciální případ matice homomorfismu, kde\footnote{Přičemž $id$ označuje funkci identity.}:
    \begin{align*}
        \mathcal{V} & = \mathcal{W}, \; dim\,\mathcal{V} = n\\
        \mathcal{B} &= (\vec{e_1}, \ldots, \vec{e_n})\\
        \overline{\mathcal{B}} &= (\vec{f_1}, \ldots, \vec{f_n})\\
        \varphi &= id
    \end{align*}
    A matici homomorfismu v tomto speciálním případě říkáme matice přechodu od
    báze $\mathcal{B}$ k bází $\overline{\mathcal{B}}$ a značíme ji $M(\overline{\mathcal{B}}, \mathcal{B})$.
\end{definition}

Pro obecnou matici homomorfismu bychom museli přepsat obrazy do následujicí soustavy
rovnic a tu vyřešit:
\begin{align*}
    \vec{e_1} &= a_{11} \cdot f_1 + \ldots + a_{1n} \cdot \vec{f_n}\\
    &\vdots \\
    \vec{e_n} &= a_{n1} \cdot f_1 + \ldots + a_{nn} \cdot \vec{f_n}\\
\end{align*}
Matici přechodu však můžeme vyjádřit jednodušeji, než obecnou matici homomorfismu,
a to vyřešením následujicí maticové rovnice, která je ekvivalentní výše zmíněné soustavě
rovnic, kde $M_{\mathcal{B}}$ a $M_{\overline{\mathcal{B}}}$ představují matice bází $\mathcal{B}$
a $\overline{\mathcal{B}}$:
\begin{align*}
    M_{\mathcal{B}} &= A \cdot M_{\overline{\mathcal{B}}}\\
    M_{\mathcal{B}} \cdot M_{\overline{\mathcal{B}}}^{-1} &= A
\end{align*}
Kde matice $A$ je matice přechodu.

\begin{example}[Výpočet matice přechodu]
    Spočítejte matici přechodu pro:
    \begin{align*}
        \mathcal{V} &= \mathbb{R}^3\\
        \mathcal{B} &= \big ( (3, 1, 2), (3, 2, 0), (1, 0, 0) \big)\\
         \overline{\mathcal{B}} &= \big ( (3, 3, 1), (4, 1, 0), (2, 2, -5) \big)
    \end{align*}
    Opět bychom měli nejprve ukázat, že se jedná o korektní báze. V tomto případě jsou obě
    báze korektní a jejich matice mají hodnost 3, tak jak potřebujeme.

    Když víme že se jedná o báze, můžeme spočítat matici přechodu:
    \begin{align*}
        M(\overline{\mathcal{B}}, \mathcal{B}) &=  M_{\mathcal{B}} \cdot M_{\overline{\mathcal{B}}}^{-1}
    \end{align*}

    Zapíšeme báze do matice:
    \begin{align*}
        M_{\mathcal{B}} & =
        \begin{pmatrix}
            3 & 1 & 2\\
            3 & 2 & 0\\
            1 & 0 & 0
        \end{pmatrix}\\
        M_{\overline{\mathcal{B}}} &=
        \begin{pmatrix}
            3 & 3 & 1\\
            4 & 1 & 0\\
            2 & 2 & -5
        \end{pmatrix}
    \end{align*}
    A vyjádříme matici přechodu dle odvozeného vztahu:
    \begin{align*}
        M(\overline{\mathcal{B}}, \mathcal{B}) &= M(\mathcal{B}) \cdot M(\overline{\mathcal{B}})^{-1} =
        \begin{pmatrix}
            3 & 1 & 2\\
            3 & 2 & 0\\
            1 & 0 & 0
        \end{pmatrix} \cdot
        \begin{pmatrix}
            3 & 3 & 1\\
            4 & 1 & 0\\
            2 & 2 & -5
        \end{pmatrix} ^ {-1}
    \end{align*}
    Dopočítáním bychom dostali matici přechodu.

    Následně pokud budeme mít nějaký vektor $\vec{u_{\mathcal{B}}}$ vyjádřený v bázi $\mathcal{B}$ a
    vynásobíme ho touto maticí přechodu dostaneme tentýž vektor v bázi $\overline{\mathcal{B}}$:
    $$\vec{u_{\mathcal{B}}} \cdot M(\overline{\mathcal{B}}, \mathcal{B}) = \vec{u_{\overline{\mathcal{B}}}}$$
    Tato matice se často používá ke transformaci vektorů mezi různými bázemi.
\end{example}

\begin{theorem}[Podobnost matic endomorfismu v různých bázích]
    Matice endomorfismu v různých bázích jsou podobné.
\end{theorem}
\begin{proof}
    Uvažujme vektorový prostor $\mathcal{V}$ dimenze $m$, který má dvě báze $\mathcal{B}$ a $\overline{\mathcal{B}}$,
    a vektorový prostor $\mathcal{W}$ dimenze $n$, který má dvě báze $\mathcal{C}$ a $\overline{\mathcal{C}}$ následovně:
    \begin{align*}
        \mathcal{V}, \; dim\,\mathcal{V} &= m, \; \mathcal{B} = (\vec{e_1}, \ldots, \vec{e_m}),\; \overline{\mathcal{B}} = (\vec{f_1}, \ldots, \vec{f_m})\\
        \mathcal{W}, \; dim\,\mathcal{W} &= n, \; \mathcal{C} = (\vec{g_1}, \ldots, \vec{g_m}),\; \overline{\mathcal{C}} = (\vec{h_1}, \ldots, \vec{h_m})
    \end{align*}
    Nechť $A$ je matice homomorfismu $\varphi: \mathcal{V} \rightarrow \mathcal{W}$ v bázích $\mathcal{B}, \mathcal{C}$
    a $\overline{A}$ je matice homomorfismu $\varphi$ v bázích $\overline{\mathcal{B}}, \overline{\mathcal{C}}$.

    Z výše uvedeného můžeme odvodit následujicí vztahy:
    \begin{align*}
        \vec{w_{\mathcal{B}}} \cdot A & = \vec{v_{\mathcal{C}}}\\
        \vec{w_{\overline{\mathcal{B}}}} \cdot \overline{A} & = \vec{v_{\overline{\mathcal{C}}}}\\
        \vec{u_{\mathcal{B}}} \cdot M(\overline{\mathcal{B}}, \mathcal{B}) & = \vec{u_{\mathcal{B}}}\\
        \vec{v_{\mathcal{C}}} \cdot M(\overline{\mathcal{C}}, \mathcal{C}) & = \vec{v_{\mathcal{C}}}
    \end{align*}

    A pomocí těchto vztahů odvodíme:
    \begin{align*}
        \vec{u_{\overline{B}}} \cdot M(\overline{\mathcal{B}}, \mathcal{B}) \cdot \overline{A}
            &= \vec{v_{\mathcal{C}}} \cdot M(\overline{\mathcal{C}}, \mathcal{C})\\
        \vec{u_{\overline{B}}} \cdot M(\overline{\mathcal{B}}, \mathcal{B}) \cdot \overline{A}
            &= \vec{u_{\mathcal{B}}} \cdot A \cdot M(\overline{\mathcal{C}}, \mathcal{C}) \\
        M(\overline{\mathcal{B}}, \mathcal{B}) \cdot \overline{A} &=
            A \cdot M(\overline{\mathcal{C}}, \mathcal{C})\\
        \overline{A} &=
            M^{-1}(\overline{\mathcal{B}}, \mathcal{B}) \cdot A \cdot M(\overline{\mathcal{C}}, \mathcal{C})
    \end{align*}

    Pro $\mathcal{V} = \mathcal{W}$, tedy když $\varphi$ je endomorfismus dostaneme:
    $$\overline{A} = M^{-1}(\overline{\mathcal{B}}, \mathcal{B}) \cdot A \cdot M(\overline{\mathcal{B}}, \mathcal{B})$$
    A tedy matice $A$ a $\overline{A}$ jsou v takovém případě podobné.
\end{proof}


%7. přednáška 01:45 úplně out of nowhere
Matice přechodu $M(\overline{\mathcal{B}}, \mathcal{B})$ je vždy regulární,
tedy:
$$| M(\overline{\mathcal{B}}, \mathcal{B}) | \neq 0$$
Můžeme tedy zavést následujicí relaci
$$\mathcal{B} \sim \overline{\mathcal{B}}\; \text{pokud}\; | M(\overline{\mathcal{B}}, \mathcal{B}) | > 0$$
Takto definovaná relace $\sim$ je relací ekvivalence, která rozdělí množinu bází na dvě třídy
ekvivalence a to na souhlasně orientované báze a opačně orientované báze. To, zda jsou báze souhlasně, nebo
opačně orientované pak může prakticky ovlivnit například znaménko determinantu (který vyjadřuje obsah).
Orientovaný vektorový prostor je pak vektorový prostor, ve kterém je určena jedna z těchto dvou tříd bází.


\subsection{Afinní prostory}
V případě Afinních a později i Euklidovských prostoru se budeme omezovat na reálné pole
z jistých důvodů, které později uvidíme. I když by se to dalo nějakým způsobem rozšířit,
zůstaneme omezeni na reálné pole s upozorněním na situace, kde by se to dalo rozšířit.

\begin{definition}
    Uvažujme neprázdnou množinu $\mathcal{A} \neq \emptyset$,
    reálný vektorový prostor $\mathcal{V}$, $dim\,\mathcal{V} = n$ a zobrazení $\varphi: \mathcal{A}
    \times \mathcal{A} \rightarrow \mathcal{V}$, kde $\varphi$ splňuje:
    \begin{enumerate}[]
        \item $\varphi(X, Z) = \varphi(X, Y) + \varphi(Y, Z)\,\forall X, Y, Z \in \mathcal{A}$.
        \hfill Respektuje sčítání vektorů
        \item $\exists O \in \mathcal{A}$ tak, že
        $\varphi_{O}: \mathcal{A} \rightarrow \mathcal{V}$ definované $\varphi_O(X) = \varphi(O, X)$
        je bijekce. % 1:14
    \end{enumerate}

    Potom trojici $(\mathcal{A}, \mathcal{V}, \varphi)$ nazveme afinní prostor.
    Přičemž:
    \begin{itemize}
        \item $\mathcal{A}$ označujeme jako nosič afinního prostoru a prvky $\mathcal{A}$ se
        nazývají body.
        \item $\mathcal{V}$ označujeme jako zaměření afinního prostoru a jeho prvky nazýváme
            (volné) vektory
    \end{itemize}
\end{definition}

\begin{example}[Ověření afinního prostoru]
    Mějme:
    \begin{align*}
        \mathcal{A} &= \mathbb{R}^n\; \text{(pouze kartézská mocnina)}\\
        \mathcal{V} &= \mathbb{R}^n\; \text{(vektorový prostor, včetně potřebných operací)}\\
        \varphi(X, Y) &= (y_1 - x_1, \ldots, y_n - x_n)
    \end{align*}
    Musíme ověřit, zda je splněno všechno co je požadováno v definici afinního prostoru.

    Kontrola splnění podmínek pro $\varphi$
    \begin{enumerate}
        \item $\varphi(X, Y) + \varphi(Y, Z) = (z_1 - x_1, \ldots, z_n - x_n) = \varphi(X, Z)$
        \item Stačí zvoli $O = [0, \ldots, 0]: \varphi_0(X) = \varphi(O, X) = (x_1, \ldots, x_n)$ a tedy: $\varphi_O :[x_1, \ldots, x_n] \rightarrow (x_1, \ldots, x_n)$
    \end{enumerate}
    V bodu 2 vidíme, že se jedná o bijekci, obě podmínky jsou tedy splněny. Bod $O$ v tomto případě dokonce
    můžeme zvolit zcela libovolně a pořád se bude jednat o bijekci. Což vlastně znamená, že je v této
    geometrii jedno kde zvolíme počátek.
\end{example}

\begin{example}[Ověření složitějšího afinního prostoru]
    Mějme:
    \begin{align*}
        \mathcal{A} &= \{[x_1, x_2] \in \mathbb{R}^2, \; \frac{x_1^2}{\alpha^2} -
        \frac{x_2^2}{\beta^2} = 1; \; \alpha > 0, \beta > 0 \}\\
        \mathcal{V} &= \mathbb{R}\\
        \varphi(X, Y) &= x_2 - y_2
    \end{align*}
    Jedná se o afinní prostor?


    Je nutné ověřit platnost podmínek z definice afinního prostoru.

    $\mathcal{A}$ je zjevně neprázdná množina, např. $[\alpha, 0] \in \mathcal{A}$.
    Navíc se jedná o rovnici hyperboly.
    Kontrola splnění podmínek pro $\varphi$
    \begin{enumerate}
        \item První podmínka zjevně platí.
        \item Druhou podmínku nelze v tomto případě splnit.
    \end{enumerate}
    Druhá podmínka nelze splnit protože vezmeme li libovolný bod $O = [o_1, o_2]$,
    potom můžeme vzít dva různé body $X = [a, x_2],\, \overline{X} = [b, x_2]$ ležící
    na různých větvích hyperboly ve stejné výšce a dostaneme dva vzory, které se zobrazí
    na jeden obraz následovně:
    \begin{align*}
        \varphi_O(X) &= x_n - o_2\\
        \varphi_O(\overline{X}) &= x_n - o_2
    \end{align*}
    A nemůže se tedy jednat o bijekci, druhá podmínka tedy není splněna a
    nejedná se o afinní prostor.
\end{example}

\begin{definition}[Repér afinního prostoru]
    Uvažujme nosič afinního prostoru $\mathcal{A}$ se zvoleným počátkem $O$ a zaměření
    afinního prostoru $\mathcal{V}$ na bázi $\mathcal{B} = (\vec{u_1},
    \ldots, \vec{u_n})$.
    Potom můžeme uvažovat následujicí $(n + 1)$-tici:
    $$\langle O; \vec{u_1}, \ldots, \vec{u_n} \rangle$$
    Kterou nazveme repér afinního prostoru.

    Repér tedy vyjadřuje počátek a bázové vektory afinního prostoru.

    Změna repéru obecně obsahuje dva kroky:
    \begin{enumerate}
        \item Změnu báze vektorového prostoru (např. pomocí matice přechodu).
        \item Posunutí počátku (přidání nějakého vektoru).
    \end{enumerate}
\end{definition}

\begin{definition}[Polohový vektor (radius vektor)]
Polohový vektor bodu $x$ budeme značit $\vec{r}_x$
\end{definition}

\begin{example}[Změna repéru]
    Uvažjumě bod $X$ vyjádřený v reperu $\mathcal{R}$ s počátkem $O$ a bází $\mathcal{B}$:
    \begin{align*}
        X &= [1, 1, 1]_\mathcal{R}\\
        \mathcal{R} &: O = [1, 2, 3],\; \vec{u_1} = (1, 1, 1),\; \vec{u_2} = (1,1,0),\;\vec{u_3} = (1, 0, 0)\\
    \end{align*}
    Vyjádřete bod $X$ v repéru $\overline{\mathcal{R}}$ s počátkem $O_1$ a bází $\overline{\mathcal{B}}$:
    $$\overline{\mathcal{R}} : O = [3, 2, 1],\; \vec{u_1} = (1, 2, 3),\; \vec{u_2} = (0,2,3),\;\vec{u_3} = (0, 3, 2)$$

    Báze $\mathcal{B}$ repéru $\mathcal{R}$ je zřejmě báze (má správnou hodnost). U báze $\overline{\mathcal{B}}$ repéru
    $\overline{\mathcal{R}}$ to není tak zřejmé na první pohled, ale také se jedná o korektní bázi, hodnost můžeme snadno
    ověřit úpravou na trojuhelníkový tvar.

    Bod x můžeme poté v repéru $\overline{\mathcal{R}}$ vyjádřit následovně:
    \begin{align*}
        \vec{r}_{x_{\overline{\mathcal{R}}}} = \vec{r}_{x_{\mathcal{R}}} \cdot
            M(\overline{\mathcal{B}}, \mathcal{B}) + \vec{r}_{O_{\overline{\mathcal{R}}}}
    \end{align*}
\end{example}

\begin{definition}[Dimenze afinního prostoru]
    Uvažujme afinní prostor $(\mathcal{A}, \mathcal{V}, \varphi)$ dimenze afinního
    prostoru je dimenze jeho zaměření.
    $$dim (\mathcal{A}, \mathcal{V}, \varphi) = dim \mathcal{V}$$
\end{definition}

\begin{definition}[Vnitřní součin]
    Uvažujme reálný vektorový prostor $\mathcal{V}$, potom je vnitřní součin $\pi$ defiován následovně:
    $$\pi: \mathcal{V} \times \mathcal{V} \rightarrow \mathbb{R}$$
    A musí splňovat následujicí podmínky:
    \begin{enumerate}
        \item $\pi(\vec{u} + \vec{v}, \vec{w}) = \pi(\vec{u}, \vec{v}) + \pi(\vec{v}, \vec{w})\;
        \forall \vec{u}, \vec{v}, \vec{w} \in \mathcal{V}$ \hfill Aditivita v první složce

        \item $\pi(c \cdot \vec{u}, \vec{v}) = c \cdot \pi(\vec{u}, \vec{v})\; \forall c\in \mathbb{R},
        \forall \vec{u}, \vec{v} \in \mathcal{V}$ \hfill Homogenita v první složce

        \item $\pi(\vec{u}, \vec{v}) = \pi(\vec{v}, \vec{u})\;
        \forall \vec{u}, \vec{v} \in \mathcal{V}$ \hfill Symetrie

        \item $\pi(\vec{u}, \vec{u}) \geq 0\;\text{a pokud}\; \pi(\vec{u}, \vec{u}) = 0 \Rightarrow \vec{u} = \vec{o}$
    \end{enumerate}
    První dvě podmínky dohromady se nazívají linearita, linearita je tedy aditivita + homogenita. Nutnost platnosti
    symetrie nám také implikuje nutnost platnosti aditivity a homogenity i v druhé složce.

    Pokud jsou všechny tyto podmínky splněny, řekneme že $\pi$ je vnitřní součin\footnote{Často se také říká
    skalární součin, případně dot product a místo $\pi(\vec{u}, \vec{v})$ pak používáme
    značení $\vec{u} \cdot \vec{v}$} na $\mathcal{V}$.
\end{definition}

Nejčastěji je vnitřní součin definován následovně:
$$\pi(\vec{u}, \vec{v}) = \sum_{i=1}^n u_i \cdot v_i = u_1 \cdot v_1 + \ldots + u_n \cdot v_n$$
%2:03 velmi rychle ukázal že to splňuje všechny požadavky z předchozí definice

Ale můžeme ho zavést i jinak, například nad $\mathbb{R}^2$ takto:
$$\pi_{new}(\vec{u}, \vec{v}) = 3\cdot u_1 \cdot v_1 - u_1 \cdot v_2 - u_2 \cdot v_2 + 2 \cdot u_2 \cdot v_2$$
Důležité je splnění vlastností požadovaných z definice (které jsou v tomto případě splněny).

Nejobvyklejší vnitřní součin tedy není jediný a můžeme ho zavést i nějak jinak. V případě že ho zavedeme jinak,
tak to má ovšem nějaké konsekvence, protože o vnitřní součin se opírá velikost vektorů, úhly mezi vektory a
vlastně celá geometrie. Běžný vnitřní součin vede na základní \uv{plochou} geometrii, které bude probírána
dále.

\begin{definition}[Euklidovský prostor]
    Afinní prostor, na kterém je definovaný vnitřní součin nazveme Euklidovský prostor.
\end{definition}

\begin{definition}[Norma vektoru indukovaná vnitřním součinem]
    $$||\vec{u}|| = \sqrt{\pi(\vec{u}, \vec{u})}$$
\end{definition}

\begin{definition}[Metrika indukovaná vnitřním součinem]
    $$d(X, Y) = ||\varphi(X, Y)||$$
\end{definition}